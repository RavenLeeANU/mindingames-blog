---
title: 生成式模型驱动的游戏技术
date: '2024-4-12'
tags: ['AI+Games', 'LLM', '论文综述']
draft: false
summary: '.'
images: []
---

生成式模型在近年来取得的进入进步让诸如**gpt**、**diffusion**、**gan**等的应用逐渐从小众范围逐渐走向各行业全领域。而电子游戏产品作为电子内容的消费产品自然也是生成式模型应用落地的重要阵地。而游戏不仅是AI研究的重要基准，也是AI技术应用的肥沃土壤，通过游戏环境作为环境沙盒与生成式模型的推理能力，探索和推动AI+Games的技术和应用边界，让游戏“不仅仅是游戏”。

本文根据当前AI+Games的行业发展现状和前言研究领域的文献来分析生成式模型驱动的游戏技术的现在和未来。

---
主要内容：
- 生成式模型在游戏行业应用现状
- 已经面世的AI+Games产品和技术分析
- 产品和技术落地展望的总结

---
### 背景

当前AI+Games的几种主流应用方式

- 作为玩家: LLMs被调整以直接玩游戏，通常通过将游戏状态和动作转换成LLM可以理解和操纵的文本序列。这种方法已经应用于传统的棋盘游戏如象棋和围棋，文本冒险游戏，以及具有健全API的视频游戏，如Minecraft。

- 作为智能NPCs: LLMs通过使NPCs能够进行动态和上下文相关的对话，从而提高玩家的沉浸感和参与度。

- 作为玩家助手: 这是一个尚未充分探索的领域，涉及到LLMs通过提供提示、管理任务或通过对话参与来丰富叙述体验，从而帮助玩家。

- 作为评论员或叙述者: LLMs可以自动化或协助生成关于游戏玩法的叙述内容，无论是实时评论还是事后的叙述总结。

- 作为游戏主持: 在桌面角色扮演游戏及其数字等价物中，LLMs可以推动叙事前进，根据玩家行为即兴创作，并保持游戏世界的连贯性。

- 作为规则器: 一些游戏将LLMs直接整合到其机制中，使用它们来解决玩家动作、生成内容，甚至创造游戏规则本身。

- 生产力工具和创意工具: LLMs可以生成游戏内容，如关卡或谜题，并通过迭代反馈帮助人类设计师头脑风暴创意或完善设计。

### 作为玩家

深度强化学习在AI PlayGame中已被证明具备了超越人类的能力的游戏游玩水平，尤其是在具备确定目标和规则的对战博弈游戏中。一个典型的例子是**AlphaGo**在围棋对战中可以击败人类选手。此后的**AlphaStar**同样证明了在更加复杂的即时战略类型的游戏**星际争霸II**中，AI同样具备极高的目标达成能力和策略性。此外**OpenAI Five**在**DotaII**中也证明了AI在团队协作和与人交互方面具备了与人相近的能力。

AI作为玩家的意义在于证明了AI系统在理解复杂规则、学习高级策略和执行计划方面的巨大潜力。它们不仅在游戏界引起了轰动，也在科学和技术领域产生了广泛的影响，推动了AI在各种实际应用中的发展和应用。

将生成式人工智能应用于PlayGame近来也有不少进展，例如[使用生成式语言模型下象棋](https://arxiv.org/ftp/arxiv/papers/2008/2008.04057.pdf)中将象棋游戏中的各个棋子位置状态通过**符号化的表示**传递给生成模型使其具备模仿下棋者按照象棋规则执行下一步落棋的能力，试验结果展示了生成模型具备一定的规则理解能力、根据长期记忆执行的策略性。

![Image](/static/images/k2/chessgame.png)

但相较于强化学习方法在目标执行的成功率等指标上，生成式模型还有一定的差距。但生成式模型的优势在于不同类型任务上具有较强的泛化能力。Deepmind发表的多模态生成式[Gato](https://arxiv.org/pdf/2205.06175.pdf)展示了生成式模型在处理多任务上的通才能力(generalist)。使用GATO的通用模型可以玩雅达利(Atari)的不同游戏、还能够使用自然语言与人对话、控制机械臂等。

![Image](/static/images/k2/gato.png)

同时，[VOYAGER](https://arxiv.org/pdf/2305.16291.pdf)使用MinecraftAPI让生成式模型在无预先制定的目标下的沙盒生存游戏中进行了广泛探索和学习、并能够通过编写自己技能代码的方式扩展角色技能，完成复杂且多样任务的能力。


![Image](/static/images/k2/voyager.png)

而谷歌的[SIMA](https://deepmind.google/discover/blog/sima-generalist-ai-agent-for-3d-virtual-environments/)则通过对大量游戏样本的用户操作、视频和文本训练了可以操作不同类型游戏的多模态通用智能体。

![Image](/static/images/k2/sima.png)


适合生成式人工智能操作的游戏系统需要满足三个基本点：
(a) 游戏的状态和行动可以使用一个token序列表示 
(b) 游戏的输入输出模态是自然语言或容易被自然语言所描述
(c) 有外部的API可供调用


### 作为智能NPCs

在游戏中使用生成式模型驱动NPC是一种替代逻辑化编成的方案。在游戏中常见的NPC有宠物、敌人、伙伴、商人、任务提供者或者是旁观者。他们共同构建了游戏世界观和故事叙事。不同的NPC由于其设计目的不同而有所差异。根据故事叙事性可分为前景NPC(foreground)，背景NPC(background)和叙事者NPC(narrtive)三类:

- 前景NPCs（Foreground NPCs）：

前景NPCs是游戏故事和任务中不可或缺的角色。它们与游戏的主要剧情紧密相关，通常为玩家提供任务、情报或是作为主要的敌人出现。
这类NPCs对游戏的叙事和玩家的决策有显著影响。例如，一个任务给予者NPC可能会引导玩家进入新的游戏区域，或是揭露关键的剧情信息。
前景NPCs的设计需要仔细考虑，因为它们对游戏世界的真实感和玩家的沉浸感有重大影响。
背景NPCs（Background NPCs）：

- 背景NPCs主要用于填充游戏世界，增加环境的活力和真实感。它们可能是城镇里的居民、过路的行人或是酒吧里的顾客。
虽然背景NPCs对游戏的主要剧情和任务影响不大，但它们对于创造一个充满活力和可信的游戏世界至关重要。
这些NPCs通过日常的对话和行为模式，帮助塑造游戏环境的背景和文化氛围。

- 叙述者NPCs（Narrator NPCs）：

叙述者NPCs在游戏中充当讲述故事的角色，他们通过对话或内心独白向玩家展示游戏世界的历史、传说或背后的故事。
这类NPCs可能不直接参与游戏的动作或冒险，但通过叙述链接游戏的过去、现在和未来，为玩家提供深入理解游戏世界的机会。
叙述者NPCs可以作为游戏故事的引导者，帮助玩家理解游戏世界的复杂性和多样性，增加游戏的深度和丰富性。

为增加角色的真实感，研究性格、记忆、对话、情绪、行为逻辑等的多模态数字人也成为了一个重要的研究领域。如[Inworld](https://inworld.ai/solutions/gaming)、[UBISoft Neo NPC](https://inworld.ai/blog/ubisoft-neo-npc-prototype)推出的智能NPCs支持开发者在游戏内创建参数可调的多模态数字人。

![Image](/static/images/k2/inworld.png)

智能NPC的设计目标通常并非单一完成某个特定目标，而是通过与玩家交互的方式与玩家建立情感连接，并且在**行为**、**对话**等方面的表现上真实可信。设计的主要难点在于创建有说服力和记忆点的NPCs是游戏设计的一个挑战。这包括使NPCs的外观、个性、背景故事和行为模式协调一致，以及如何让NPCs有效地融入游戏的世界观和叙事中。


### 作为玩家助手

生成式模型可以替代用户手册和玩家指引，使用自然语言的交互方式提供帮助玩家了解游戏规则，查询游戏内容和做出知道建议等。相比于传统的图文版用户手册和特定引导更能增加玩家的体验。

- 游戏教学和指导：

AI助手可以指导玩家如何玩游戏，介绍基本的操作、规则以及高级策略。对于新手玩家而言，这可以大大降低入门难度。

- 提供游戏内提示和建议：

在玩家遇到困难或瓶颈时，AI助手可以提供提示或建议，帮助玩家克服挑战。这包括解谜提示、战术建议或资源管理策略。

- 角色扮演和对话：
在一些游戏中，AI助手可能以NPC的形式出现，与玩家进行对话交流，提供任务、背景故事信息，或者简单地增加游戏的互动性和沉浸感。

- 导航和探索辅助：
AI助手可以帮助玩家在游戏世界中导航，指示前往目标的路线或揭示未探索区域的线索。

- 管理游戏资源和物品：
对于复杂的游戏，AI助手可以协助玩家管理资源和物品，提醒玩家关于库存状态、升级选项或是物品使用时机。

- 动态调整游戏难度：
AI助手能够根据玩家的表现动态调整游戏难度，确保游戏既有挑战性也不至于过于沮丧。

- 社交互动和陪伴：
在一些游戏或应用中，AI助手也可以充当玩家的社交伙伴，通过聊天和交互提供陪伴，特别是在单人游戏中。

- 学习和适应玩家的行为：
高级的AI助手可以学习玩家的偏好和行为模式，随时间优化其帮助策略，为玩家提供更个性化的体验。

- 情境感知与适时提醒：
AI助手可以根据游戏中的特定情境提供适时的建议或提醒，比如指出玩家可能错过的重要物品或提醒玩家游戏中的特定事件。

### 作为游戏主持


作为游戏主持（Game Master, GM），人工智能（AI）或大型语言模型（LLMs）扮演的角色十分关键，它们掌控着游戏的叙事推进、世界观构建以及玩家的游戏体验。AI作为游戏主持在数字游戏、桌面角色扮演游戏（TTRPGs）的模拟等场景中都有广泛应用。

例如:
- [AI DnD](https://play.aidungeon.com/)
- [hidden door](https://www.hiddendoor.co/)
- [Kobold-AI](https://github.com/KoboldAI/KoboldAI-Client)
- [EmbraceAGI / Games](https://github.com/EmbraceAGI/AIGoodGames)

**游戏主持的应用路径**

- 叙事和故事创作：
AI主持能够根据游戏世界的设定和当前的游戏状态，动态地创造和推进故事情节。这包括角色发展、剧情转折以及故事的高潮和结局。

- 响应玩家决策：
与固定剧情路径不同，AI主持可以实时响应玩家的选择和行动，根据玩家的决策调整故事的发展方向，使每一次游戏体验都独一无二。

- 角色交互和对话管理：
AI游戏主持负责管理游戏中的NPCs，通过它们与玩家进行互动和对话，为玩家提供线索、任务、信息或是情感交流的机会。

- 规则执行和判定：
在桌面角色扮演游戏中，AI主持可以自动执行游戏规则，进行技能检定、战斗判定等，确保游戏的公平和规则的正确应用。

- 环境和事件设计：
AI可以根据故事需要设计游戏环境，创造出挑战、谜题或是探索场景，增加游戏的丰富性和深度。

- 适应性和个性化：
AI主持能够学习玩家的偏好和游戏风格，个性化地调整游戏内容和难度，使游戏体验更加贴合每位玩家。

- 情绪和氛围营造：
通过音乐、声效、描述文字等手段，AI游戏主持能够营造相应的游戏情绪和氛围，增强玩家的沉浸感。

- 教育和训练：
AI游戏主持还可以在教育游戏中扮演重要角色，通过游戏化学习引导玩家掌握知识和技能

### 作为评论员或叙述者

评论员或叙述者可以通过理解和观看游戏流程，总结出游戏流程中的精彩瞬间和重要时刻。可以作为**Twitch**或**Huya**上的直播内容。

同时评论员和叙述者作为in-game-action中的一个功能，可以在特定游戏类型中发挥叙述者的作用，典型的游戏应用包括足球游戏**FIFA**、跳跃过关游戏**Getting Over It With Bennett Foddy**和解谜游戏**史丹利的预言**等等。


### 作为规则器

通过将生成式模型的多样化自然语言输出作为游戏的创新玩法机制，也产生了一批新颖的玩法和设计，为丰富游戏类型和交互范式提供了新的可能。

例如
- [病娇猫娘](https://www.bilibili.com/video/BV1ms4y1q7ZD/?spm_id_from=333.337.search-card.all.click)，
- [SuckUp](https://www.youtube.com/watch?v=ah8_0Cy55N4)，
- [1001Nights](https://store.steampowered.com/app/2542850/1001_Nights/)
- [Infinite Craft](https://neal.fun/infinite-craft/)
- [AI People](https://www.aipeoplegame.com/)
- [Eastworld](https://github.com/mluogh/eastworld)

另一种类型试图通过仿真人类社会的形式创造一个可信的完整世界，其中包含了一个开放的沙盒环境和多个可以协作的生成式智能体，

- [Western Town](https://github.com/joonspk-research/generative_agents)
- [Agent Verse](https://github.com/OpenBMB/AgentVerse.git)
- [biomes](https://github.com/ill-inc/biomes-game)
- [AI-Town](https://www.convex.dev/ai-town)
- [Agent Sims](https://browse.arxiv.org/pdf/2308.04026.pdf)

### 生产力工具和创意工具

使用生成式人工智能可以帮助开发者在游戏制作流程和资产生产上减少成本和开发时间，目前游戏中的大部分资产都可以使用生成式模型进行制作：


例如：

- 3D生成
[3D 生成综述](https://arxiv.org/pdf/2401.17807.pdf)

- 贴图生成
[]()

- 立绘生成
[]()

- 对话语音生成
[VITS]()

- 音乐生成
[Suno]()

- 场景生成
[]()

- 使用生成式模型控制PCG
[]()

- 代码助手
[]()

- 使用规则方法build工程
[buildBox]()

- 创意工具
[]()

### 展望与总结

未来AI+Games的主要发展趋势为：

- “不仅仅是游戏”：游戏将会作为一个仿真世界沙盒提供给通用智能体进行学习和测试。
- 游戏开发管线的优化：资产的获取和生成工具将会极大丰富。
- 重塑游戏的用户交互形式：未来游戏中将只有更少的界面，大部分的内容和操作可以只使用自然语言来操作。


目前的限制：

- 生成式AI的使用成本较高
- 大模型自身存在的问题如幻觉和对模型的约束能力
- 基于生成式模型的游戏设计的系统范式不健全


---
### 引用

[AI+Games文献综述] https://arxiv.org/pdf/2402.18659v1.pdf